<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>LockProvider - Sproc.Lock</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content=""/>
        <meta name="author" content="Michael Newton"/>
    
        <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
        <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
        <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>

        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>
        <!--<link type="text/css" rel="stylesheet" href="Sproc.Lock%20Home_files/style.css">-->
        <link type="text/css" rel="stylesheet" href="/Sproc.Lock/css/15b-style.css" />
        
        <script type="text/javascript" src="/Sproc.Lock/content/tips.js"></script>
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>
  <body>
    <header>
        <div class="container">
            <a href="http://15below.github.io/Sproc.Lock/index.html" class="sproc-lock-logo"></a>
            <div class="header-block span8 pull-right">
                <div class="row no-margin">
                    <div class="logo-15below">15below</div>
                </div>
                <div class="row no-margin">
                    <ul class="nav nav-pills pull-right">
                        <li><a href="http://15below.com">15below.com</a></li>
                        <li><a href="http://github.com/15below/Sproc.Lock">github page</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="container">
      <div class="row">
        <div class="span9" id="main">
          



<h1>LockProvider</h1>
<div class="xmldoc">
<p>Class representing a single lock server. <code>connString</code> is a complete SQL Server connection string, including credentials.</p>
</div>
  <h3>Constructors</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Constructor</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '17', 17)" onmouseover="showTip(event, '17', 17)">
            new(connString)
          </code>
          <div class="tip" id="17">
            <strong>Signature:</strong> connString:string -&gt; LockProvider<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L20-20" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          
        </td>
      </tr>
    </tbody>
  </table>
  <h3>Instance members</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Instance member</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '18', 18)" onmouseover="showTip(event, '18', 18)">
            AwaitEnvironmentLock(...)
          </code>
          <div class="tip" id="18">
            <strong>Signature:</strong> (lockId:string * organisation:string * environment:string * maxDuration:TimeSpan * timeOut:TimeSpan * pollInterval:&#39;?6102) -&gt; Lock<br />
                          <strong>Type parameters:</strong> '?6102          </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L52-52" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>As <code>EnvironmentLock</code>, but waiting until <code>timeOut</code> or the lock is available</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '19', 19)" onmouseover="showTip(event, '19', 19)">
            AwaitGlobalLock(...)
          </code>
          <div class="tip" id="19">
            <strong>Signature:</strong> (lockId:string * maxDuration:TimeSpan * timeOut:TimeSpan * pollInterval:&#39;?6098) -&gt; Lock<br />
                          <strong>Type parameters:</strong> '?6098          </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L46-46" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>As <code>GlobalLock</code>, but waiting until <code>timeOut</code> or the lock is available</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '20', 20)" onmouseover="showTip(event, '20', 20)">
            AwaitOneOf(...)
          </code>
          <div class="tip" id="20">
            <strong>Signature:</strong> (getLock:Func&lt;&#39;t,Lock&gt; * lockIds:seq&lt;&#39;t&gt; * timeOut:TimeSpan * pollInterval:obj) -&gt; Lock<br />
                          <strong>Type parameters:</strong> 't          </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L71-71" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Build a <code>System.Func</code> that returns a lock based on lockId and provide a list of lockIds.
If any of the locks are available, it will pick one of the available locks at random.
If none are available it will wait until one is, or <code>timeOut</code> has passed.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '21', 21)" onmouseover="showTip(event, '21', 21)">
            AwaitOrganisationLock(...)
          </code>
          <div class="tip" id="21">
            <strong>Signature:</strong> (lockId:string * organisation:string * maxDuration:TimeSpan * timeOut:TimeSpan * pollInterval:&#39;?6100) -&gt; Lock<br />
                          <strong>Type parameters:</strong> '?6100          </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L49-49" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>As <code>OrganisationLock</code>, but waiting until <code>timeOut</code> or the lock is available</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '22', 22)" onmouseover="showTip(event, '22', 22)">
            EnvironmentLock(...)
          </code>
          <div class="tip" id="22">
            <strong>Signature:</strong> (lockId:string * organisation:string * environment:string * maxDuration:TimeSpan) -&gt; Lock<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L43-43" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Attempts to acquire an environment lock from the provider with
the specified lockIdentifier. After maxDuration has elapsed the
lock will become "stale" and will be automatically released to the
next requester.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '23', 23)" onmouseover="showTip(event, '23', 23)">
            GlobalLock(lockId, maxDuration)
          </code>
          <div class="tip" id="23">
            <strong>Signature:</strong> (lockId:string * maxDuration:TimeSpan) -&gt; Lock<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L31-31" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Attempts to acquire a global lock from the provider with
the specified lockIdentifier. After maxDuration has elapsed the
lock will become "stale" and will be automatically released to the
next requester.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '24', 24)" onmouseover="showTip(event, '24', 24)">
            OneOf(getLock, lockIds)
          </code>
          <div class="tip" id="24">
            <strong>Signature:</strong> (getLock:Func&lt;&#39;t,Lock&gt; * lockIds:seq&lt;&#39;t&gt;) -&gt; Lock<br />
                          <strong>Type parameters:</strong> 't          </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L56-56" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Build a <code>System.Func</code> that returns a lock based on lockId and provide a list of lockIds.
If any of the locks are available, it will pick one of the available locks at random.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '25', 25)" onmouseover="showTip(event, '25', 25)">
            OrganisationLock(...)
          </code>
          <div class="tip" id="25">
            <strong>Signature:</strong> (lockId:string * organisation:string * maxDuration:TimeSpan) -&gt; Lock<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/15below/Sproc.Lock/tree/master/src/Sproc.Lock/OO.fs#L37-37" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Attempts to acquire an organisation lock from the provider with
the specified lockIdentifier. After maxDuration has elapsed the
lock will become "stale" and will be automatically released to the
next requester.</p>

        </td>
      </tr>
    </tbody>
  </table>

        </div>
        <div id="sidebar" class="span3">
          <ul class="nav nav-list" id="menu">
            <li class="nav-header">Sproc.Lock</li>
            <li><a href="/Sproc.Lock/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/Sproc.Lock">Get Library via NuGet</a></li>
            <li><a href="http://github.com/15below/Sproc.Lock">Source Code on GitHub</a></li>
            <li><a href="/Sproc.Lock/license.html">License</a></li>
            <li><a href="/Sproc.Lock/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/Sproc.Lock/tutorial.html">Sample tutorial</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/Sproc.Lock/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/15below/Sproc.Lock"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
